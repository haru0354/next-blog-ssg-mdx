
目次作成のエラーの解消をする。


# 概要

- SEOを意識したサイト構造
  - 画像をwebpに変換し圧縮
- 作成時に変更する箇所
- カテゴリの作成手順
  - カテゴリの補足
- 記事の作成手順
  - 記事の補足
- 追加できるメニュー
- デザインの変更
- 今後追加する項目


Next.JsでSSGでのブログを作成することができます。
Markdownファイルでの記述により記事やカテゴリを追加していきます。

- SEOを考慮して作成
- 2種類のデザインパターン
- sitemap.xmlは自動で作成

デザインはtailwindを使用しています。
記事やカテゴリの追加時のMarkdownファイルの部分は「globals.css」に記載しています。
(現状はh2、h3、aタグの3つのみです。)

今後、cssは追加予定ですが現状で使用したい人は個別で追加して頂ければと思います。

現状の項目が少ないのでそのままcssを使用しています。
項目を増やすのならsassを適用するのがネスト化の手間が省けていいかと思います。


## SEOを意識したサイト構造

SEOを気にする人用にデフォルトのサイト構造を紹介します。

現状、見出しタグは重視されないとされています。
但し、簡単にできることは全て行うのがSEOの基本かと思います。

h1見出しタグが複数あったり、コンテンツがh2タグしかなかったりと、サイト構造がしっかりしていないのを見ると、
個人的にはすごく気になります。

- TOPページ
  - logoがh1タグとなっています。
  - カテゴリタイトルはh3タグとなります。 
  - 記事タイトルはh3タグとなります。 

- 記事ページ
  - logoは見出しタグは付きません。
  - 記事タイトルがh1タグとなります。

- カテゴリページ
  - 関連記事はh2タグとなります。
  - 関連記事内の各個別ページのタイトルはh3タグとなります。

各ページのサイドメニューには見出しタグは付きません。

記事ページのタイトルは「記載した記事タイトル | サイトタイトル」になります。
カテゴリページのタイトルは「記載したカテゴリタイトル | サイトタイトル」になります。

## 画像をwebpに変換し圧縮

publicフォルダに画像を配置すると圧縮と変換がされた画像が配置されます。

「npm run dev」と[npm run build]の実行時に2種類の画像ファイルに圧縮と変換が行われます。

1. image_webpフォルダ：80%の品質で圧縮、webpに変換
2. thumbnail_webpフォルダ：80%の品質で圧縮、width：300px、webpに変換

記事のアイキャッチには「image_webpフォルダ」の画像が配置されます。
TOPページ、関連記事、サイドメニューには「thumbnail_webpフォルダ」の画像が配置されます。

変換をした画像は「scriptsフォルダ」の「ConvertedFileNameList.json」にリスト化されていきます。
再度、実行時に照らし合わせて、未変換のファイルのみ変換と圧縮がされるようになっています。

現状、「thumbnail_webpフォルダ」の画像はサイトのテンプレートの中で280pxから350pxの画像が使われています。
そのため、完璧な画像が配置できている訳ではありません。

そのため、サイト全体のデザインを調整するか考慮中です。
詳しくはscriptsフォルダにある「ConvertToWebp.js」をご覧ください。

## 作成時に変更する箇所

- 画像
  - ロゴ画像(logo.png)
  - ファビコン(favicon.ico)
- テキスト
  - フッターのサイト名
  - ロゴ画像の alt
- meta タグ
  - TOP ページ用の meta タグ(サイトタイトルと説明文)
    カテゴリ・個別記事のタイトルは「記事タイトル ｜ サイトタイトル」になるよう設定されています。
    プライバシーポリシーページは description は TOP ページと同じのが設定されています。
- sitemap.xml
  - サイトのURLを変更

## カテゴリの作成手順

1. mdFile ディレクトリの「categorySample」をコピー
2. mdFile > category ディレクトリへコピーしたサンプルファイルを入れる。
3. ファイル名を変更する(slugになる)。
4. 各項目を変更をする。

### カテゴリの補足

カテゴリページは単なるリスト表示ではなく、コンテンツを表示するように作成しています。
下部はカテゴリ内の記事が一覧が表示されるようにしています。

上記仕様の理由としてはSEOとユーザービリティーを考慮しています。

簡単に説明するとカテゴリページは内部リンクが集まりやすいページだからです。
また、サイト構造を考えても上記仕様が適していると思います。

categoryName: カテゴリ名を記載
title: カテゴリのタイトル(記事タイトルと同じ)

カテゴリページのslugはファイル名が適用されます。

## 記事の作成手順

1. mdFile ディレクトリの「articleSample」をコピー
2. mdFile > article ディレクトリへコピーしたサンプルファイルを入れる。
3. ファイル名を変更する(slugになる)。
4. 各項目を変更をする。

### 記事の補足

categorySlug: カテゴリのスラッグ名を入力してください。

上記の項目はsitemap.xmlを作成するのに必要な項目となっています。

## 追加できるメニュー

記載をすることで様々なメニューを追加できるようになっています。

- グローバルメニュー(globalMenu.md)
- サイドバーのおすすめの記事(recommendArticle.md)
- サイドバーのリンク(参考文献・参考サイト)(link.md)

それぞれのファイルはmdFileディレクトリのmenuディレクトリの中にあります。
各ファイルの１つ目を記載すると、各メニューが表示されるようになります。

## デザインの変更

- パターン2への変更(ブロック型)
  - SideMenu.tsxの「bg-white」を外す
  - コンポーネント > sideMenu 内のコンポーネントをSideCategory2とSideNewArticle2に変更。
  - (blog) > [category_slug]の１つ目のdivタグに「border border-gray-200」を追加
  - (blog) > [category_slug] > [article_slug]の１つ目のdivタグに「border border-gray-200」を追加


- カテゴリの関連記事の変更
  - (blog) > [category_slug] 最下部の(CategoryInArticlesList)コンポーネントを変更

1. 画像2枚が横並び(CategoryInArticlesList2Images)
2. 左に画像、右にタイトルと説明文(CategoryInArticlesList)


(blog) > [category_slug]

### イメージカラーの変更

TailwindCSSを使用しています。

tailwind.config.tsのcolorsのmainの部分でイメージカラーを設定しています。
初期状態はgrayが当たっています。

この部分にカラーを追加して、「bg-main-gray」を検索して、新たに作成したイメージカラーの「bg-main-●●」で置換をして頂ければ、一括で変更がされます。

また、面倒だというのであれば、grayの部分の名前は変えずにスタイルを変える方法でも可能です。